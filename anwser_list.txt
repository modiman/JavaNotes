第一题
awk '{print $1}' sam.log|uniq -c|sort -g|tail -10
用空格切割字符串并取第一项，去重并显示每条出现次数，按出现次数排序，取前十

第二题
import os
ft = open(r'/home/modige/桌面/internet/sam.log','r+')
lines = [] #used to store every lines of sample.log
ip_list = [] #used to store every ip of sample.log
lines = ft.readlines() #store sample.log with list

for str in lines:  
	substr = str.split(' ',1)  #split every line by ' '
	if substr[1] not in ip_list:    
		ip_list.append(substr[1])
		print(substr[0])

第三题
#如果ip多次出现，以累加的方式计算其transfer size还是取最大值？ （本代码累加）

import os
ft = open(r'/home/modige/桌面/internet/sam.log','r+')
lines = [] #used to store every lines of sample.log
ip_transfer_size = {} #used to store every ip of sample.log
lines = ft.readlines() #store sample.log with list
pattern = "GET"

for str in lines:
    if pattern in str:
        substr = str.split(' ')
        if substr[0] in ip_transfer_size:
            ip_transfer_size[substr[0]] = ip_transfer_size[substr[0]] + int(substr[9])
        else:
            ip_transfer_size[substr[0]] = int(substr[9])
for i in range(5):

    max = 0
    max_ip = ""
    for key in ip_transfer_size.keys():
        if (ip_transfer_size[key] > max):
            max = ip_transfer_size[key]
            max_ip = key
    print(key,end=":")
    print(max)
    del ip_transfer_size[key]



第四题
 grep GET sam.log |awk '{print $1}' sam.log|uniq -c|sort -g|tail -5
筛选出含“GET“ 的行，。。。

第六题
awk '{print $4}' sam.log |cut -c 14-18|uniq -c|sort -g|tail -5
取出时间所在的项，切出时，分，去重，排序

第七题
cut -d '"' sam.log -f 4 |cut -d '/' -f 3| sort | uniq -c
用 “ 切割每一行，取第四项，用 / 切割，取第三项 去重

第八题
from user_agents import parse
import os

ft = open(r'/home/modige/桌面/internet/sample.log','r+')
lines = [] #used to store every lines of sample.log
browser_dict = {} #used to store every ip of sample.log
lines = ft.readlines() #store sample.log with list
for line in lines:
    try:
        user_agent = parse(line)
        brow = user_agent.browser.family
        if brow not in browser_dict:
            browser_dict[brow] =1
        else:
            browser_dict[brow] = browser_dict[brow] + 1


    except:
        continue
for browser in browser_dict :
    print(browser,end=' ')
    print(browser_dict[browser])

